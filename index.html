<!DOCTYPE html>
<html lang="en">
<head>
    <title>Luis Cristóvão Webpage</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
</head>
    <!--Burguer Style-->    
    <style>

        .bar1, .bar2, .bar3 {
            width: 35px;
            height: 5px;
            background-color: #333;
            margin: 6px 0;
            transition: 0.4s;
        }

        .change .bar1 {
            -webkit-transform: rotate(-45deg) translate(-9px, 6px);
            transform: rotate(-45deg) translate(-9px, 6px);
            background-color: white;
        }

        .change .bar2 {opacity: 0;}

        .change .bar3 {
            -webkit-transform: rotate(45deg) translate(-8px, -8px);
            transform: rotate(45deg) translate(-8px, -8px);
            background-color: white;
        }
    </style>    
    <!--Top Down Menu Style-->
    <style>
        
         .topnav {
            height: 0%;
            width: 100%;
            position: fixed;

            top: 0;
            left: 0;
            background-color: rgb(0,0,0);
            opacity: 1;

            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
        }    

        .topnav .content{
            position: relative;
            top: 25%;
            width: 100%;
            font-size: 36px;
            text-align: center;
            margin-top: 30px;
        }
        .topnav .a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 200px;
            color: rgb(0,0,0);
            display: block;
            transition: 1s;
        }
        .topnav a:hover {
            color: #f1f1f1;
        }

        .topnav .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 50px;
            margin-left: 50px;
        }
    </style> 
    <!--Loader Icon-->
    <style>
        .loader {
          border: 10px solid #f3f3f3;
          border-radius: 50%;
          border-top: 10px solid blue;
          border-bottom: 10px solid blue;
          width: 50px;
          height: 50px;
          -webkit-animation: spin 2s linear infinite;
          animation: spin 2s linear infinite;
        }

        @-webkit-keyframes spin {
          0% { -webkit-transform: rotate(0deg); }
          100% { -webkit-transform: rotate(360deg); }
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
    </style>
    <!--This is important to footer dont cover text-->
    <style>
        body { padding-bottom: 70px; }
    </style>
<body onresize="align_burguer()">
    <div  style="visibility: collapse">
        <div id="myNav" class="topnav">    
          <!--<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>-->
          <div class="content">
            <a href="#">CV</a><br>
            <a href="#">Youtube Channels</a><br>
            <a href="#">Projects</a><br>
              <a href="#">GitHub</a><br>
            <a href="#">Contact</a><br>
          </div>
        </div>

    </div>
<div class="jumbotron text-center" style="background-color:cornflowerblue">
    <h1><font color="white">Luís Cristóvão GitHub Site</font></h1>
    <p><font color="white">See Some of my Projects!</font></p>
    <div id="burguer"  onclick="openNav(this)">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </div>
    <script>
        var allBD;
        function Start(){
            document.getElementById('burguer').style.position="absolute";
            align_burguer();
            allBD=readTextFile('SiteFolder/DB/DB.txt');
            allBD=allBD.split('##########');
        }
        function readTextFile(file)
        {
            var rawFile = new XMLHttpRequest();
            var allText;
            rawFile.open("GET", file, false);
            rawFile.onreadystatechange = function ()
            {
                if(rawFile.readyState === 4)
                {
                    if(rawFile.status === 200 || rawFile.status == 0)
                    {
                         allText= rawFile.responseText;
                        //alert(allText);
                        
                    }
                }
            }
            rawFile.send(null);
            return allText;
        }
        window.onload=Start();
        
        function align_burguer(){
            var burguer=document.getElementById('burguer');
            if(window.innerWidth<window.innerHeight){
                burguer.style.left='45%';
            }
            else{
                burguer.style.left='50%';
            }
        }
        
        
        var toggle_nav=false;
        function openNav(x) {
            toggle_nav=!toggle_nav;
            if(toggle_nav){
                x.classList.toggle("change");
                x.style.position="absolute";
                x.style.top="15%";
                align_burguer();
                //x.style.hover="color:white";
                document.getElementById("myNav").style.visibility = "visible";
                document.getElementById("myNav").style.height = "100%";
                $('#SiteBody').slideUp('fast');
                $('#footer').slideUp('fast');
            }
            else{
                x.classList.toggle("change");
                x.style.position="absolute";
                x.style.top="auto";
                align_burguer();
                document.getElementById("myNav").style.visibility = "collapse";
                document.getElementById("myNav").style.height = "0%";
                $('#SiteBody').slideDown('fast');   
                $('#footer').slideDown('fast');
            }
        }
        /*function closeNav() {
            document.getElementById("myNav").style.visibility = "collapse";
            document.getElementById("myNav").style.height = "0%";
            $('#SiteBody').slideDown('fast');
            
        }*/
    </script>
    <br>
</div>
  
<div id="SiteBody" class="container">
  <div class="row">
    <div class="col-sm-4">
      <h3>Column 1</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
    <div class="col-sm-4">
      <h3>Column 2</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
    <div class="col-sm-4">
      <h3>Column 3</h3>        
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
  </div>
</div>
<div id="footer" class="navbar navbar-fixed-bottom " style=" background-color: cornflowerblue;" onmouseover="highLight(this)" onmouseout="normal(this)" onclick="LoadProjects()">
    <h3 style="text-align: center"><font color="white">Load More Projects</font></h3>
</div>    
<script>
    var loaded_projects=0;
    function highLight(obj){
      
        obj.style.backgroundColor="blue";
        
    }
    function normal(obj){
        obj.style.backgroundColor="cornflowerblue";
    }
    function LoadProjects(){
        if(window.innerWidth>window.innerHeight){
            
            $('#footer').html('<div style="position: relative; left: 50%;" class="loader"></div>');
        }
        else{
            $('#footer').html('<div style="position: relative; left: 45%;" class="loader"></div>');
        }
        setTimeout(function(){
            $('#footer').html('<h3 style="text-align: center"><font color="white">Load More Projects</font></h3>');
        },1000);
        $('#SiteBody').append(allBD[loaded_projects]);
        if(loaded_projects<allBD.length){
            
            loaded_projects++;
        }
        window.scrollTo(0,document.body.scrollHeight);
    }
    //only show footer when scroll to bottom
    
    $(document.body).on('touchmove', onScroll); // for mobile
    $(window).on('scroll', onScroll); 
    function onScroll(){
        
       if($(window).scrollTop() + $(window).height() == $(document).height()) {
           //alert("bottom!");
           //console.log($(window).scrollTop() + $(window).height());
           //$('footer').slideUp('fast');
           document.getElementById('footer').style.visibility="visible";
       }
        else{
            document.getElementById('footer').style.visibility="collapse";
        }
    }
    
    //make disapear footer when scroll to top
    /*$(window).scroll(function() {
       if($(window).scrollTop() < ($(document).height()*0.9)) {
           //alert("bottom!");
           //$('footer').slideDown('fast');
           document.getElementById('footer').style.visibility="collapse";
           console.log($(window).scrollTop());
       }
    });*/
    
</script>
</body>
</html>